<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>ArkTube - 시청</title>

  <!-- 상단바/레이아웃 기본 스타일 (원본 헤더 유지 전제) -->
  <link rel="stylesheet" href="/css/style.css"/>

  <style>
    :root {
      --brand-pad: 8px;
      --btn-radius: 12px;
    }
    header#topbar { position: sticky; top:0; z-index:20; }
    .watch-wrap { max-width: 1100px; margin: 0 auto; padding: 10px; }
    .player-box { position: relative; background:#000; aspect-ratio: 16 / 9; border-radius: 10px; overflow: hidden; }
    .player-box iframe { width: 100%; height: 100%; border:0; }

    .watch-ctrl {
      display: grid;
      grid-template-columns: 1fr auto auto auto auto;
      gap: 8px;
      align-items: center;
      padding: 8px 0;
    }
    .title-line { font-weight: 700; line-height: 1.3; }
    .muted { color:#888; font-size: 13px; }
    .badge { display:inline-block; font-size:12px; padding:2px 8px; border-radius:999px; background:#222; color:#eee; margin-right:6px; }

    .btn {
      border: 1px solid #2a2a2a;
      padding: 8px 12px;
      border-radius: var(--btn-radius);
      background: #151515;
      cursor: pointer;
      user-select: none;
    }
    .btn:disabled { opacity: .6; cursor: default; }
    .btn-ghost { background: transparent; }
    .btn-primary { background:#1f1f1f; }
    .btn-danger { background:#2a1515; }
    .ctrl-right { display:flex; gap:6px; align-items:center; }

    #dropdownMenu.hidden { display:none; opacity:0; transform:scale(.98); }
    #dropdownMenu.open   { opacity:1; transform:scale(1); transition:opacity .12s ease, transform .12s ease; }

    /* 스와이프 애니메이션 */
    @keyframes pageSlideLeft { from { transform: translateX(0); opacity:1; } to { transform: translateX(-22%); opacity:.92; } }
    @keyframes pageSlideRight{ from { transform: translateX(0); opacity:1; } to { transform: translateX(22%);  opacity:.92; } }
    :root.slide-out-left  body { animation: pageSlideLeft 0.26s ease forwards; }
    :root.slide-out-right body { animation: pageSlideRight 0.26s ease forwards; }

    @media (max-width: 480px){
      .watch-ctrl { grid-template-columns: 1fr auto auto; grid-auto-rows: auto; }
      .ctrl-right { grid-column: 1 / -1; justify-content: flex-end; }
    }
  </style>

  <script defer src="/js/watch.js"></script>
  <script async src="https://www.youtube.com/iframe_api"></script>
</head>
<body>
  <!-- 상단바 (원본 유지) -->
  <header id="topbar">
    <div class="bar">
      <a id="brandHome" class="brand" href="/index.html" aria-label="홈">
        <img class="brand-logo" src="/image/arktube_side.png" alt="ArkTube" />
      </a>
      <div class="spacer"></div>
      <button id="btnDropdown" class="btn btn-ghost" aria-haspopup="true" aria-expanded="false">메뉴</button>
    </div>
    <nav id="dropdownMenu" class="hidden" aria-hidden="true">
      <button id="btnGoUpload" class="btn">업로드</button>
      <button id="btnList" class="btn">리스트</button>
      <button id="btnOrder" class="btn">카테고리 순서</button>
      <button id="btnMyUploads" class="btn">내 업로드</button>
      <button id="btnAbout" class="btn">소개</button>
      <button id="btnSignOut" class="btn">로그아웃</button>
    </nav>
  </header>

  <main class="watch-wrap">
    <div class="watch-ctrl">
      <div>
        <span id="badgeMode" class="badge" hidden>MODE</span>
        <div id="title" class="title-line">제목</div>
        <div class="muted"><span id="pos">0</span>/<span id="total">0</span> · <span id="typeMark">all</span></div>
      </div>
      <div class="ctrl-right">
        <button id="btnPrev" class="btn">이전</button>
        <button id="btnNext" class="btn">다음</button>
        <label class="btn btn-ghost" title="연속재생">
          <input id="cbAutoNext" type="checkbox" style="vertical-align:middle; margin-right:6px;"> 연속
        </label>
        <button id="btnFull" class="btn">전체화면</button>
      </div>
    </div>

    <div id="playerBox" class="player-box">
      <div id="playerMount" style="width:100%;height:100%;"></div>
    </div>

    <p id="msg" class="muted" style="padding-top:8px;"></p>
  </main>
</body>
</html>
